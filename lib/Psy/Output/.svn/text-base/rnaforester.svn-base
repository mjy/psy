
sub out_RNAForester () { # NOT FUNCTIONING
	my (
		$input,
		$slice
	) = @_;
	
	chdir($rootdir);
	&io_confirmdir("analyses/RNAForester/$input->{Modelroot}");

	open (RNAFOR, ">$input->{Modelroot}.fas") || die "couldn't open nexus file output too in out_rna_translate - \n";
	
	my ($maskstr, $tmpstr);

	for my $blk ($slice->loop("Blocks")) {
		if ($nbd[$blk][3]==1) {
			$maskstr .= '.' x $nbd[$blk][0]; 
		}
		
		else{
			$maskstr .= $nbd[$blk][8];
		}
	}

	my $legal_fasta_chars = join '', @iupac;

	local (*STDOUT) = *RNAFOR;
	
	foreach my $tax ($slice->loop("Taxa")) {
		print RNAFOR "\>$ters{$tax}\n";

		$tmpstr = '';	
		
		foreach my  $blk ($slice->loop("Blocks")) {
			$tmpstr .= $mx[$tax][$blk][0]; # use loop method to order blocks
		}
		
		#$tmpstr =~ s/(?)[-]//gi;
		#$tmpstr =~ s/(?)[^$legal_fasta_chars]//gi;
	
		$tmpstr =~ s/U/T/gi;	# genbank likes T's, not U's 	
		
		print RNAFOR $tmpstr;
		print "\n";
		print RNAFOR $maskstr;
		print "\n\n";
	}
	close RNAFOR;
}

