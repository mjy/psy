#NEXUS
[ generated by Psy, output ver [% output_ver %], blockmeta ver. [% blockmeta_ver %] ]
[ Block metadata in Mesquite format, each represents a single character.            ]

BEGIN TAXA;
	TITLE foo;
	DIMENSIONS NTAX=[% total_ters %];
	TAXLABELS
	[% FOREACH ter = terminals %] [% rowlabel(ter) %] [% END %]
;

END;

[% FOREACH c = char_loop %]

BEGIN CHARACTERS;
	TITLE  Blockmeta_[% c %];
	DIMENSIONS NCHAR=[% nchar_meta %];
	FORMAT DATATYPE = CONTINUOUS;
CHARSTATELABELS [% SET i = 1 %][% FOREACH blk = trans_blk_loop %] 
	[% i %] blk_[% blk %][% SET i = (i+1) %],[% END %]
	;
	
	MATRIX
[% FOREACH ter = terminals %]
[% justifiedrowlabel(ter) %][% FOREACH blk = trans_blk_loop %][% chars(c, ter, blk) %] [% END %][% END %]
;

END;
[% END %]


BEGIN CHARACTERS;
	TITLE  Nucleotide;
	DIMENSIONS NCHAR= [% nchar_nuc %];
	FORMAT DATATYPE = DNA GAP = - MISSING = ?;
	MATRIX
[% FOREACH ter = terminals %]	[% justifiedrowlabel(ter) %] [% FOREACH blk = orig_blk_loop %] [% cell(ter, blk) %] [% END %]
[% END %]
;
END;
[block order [% FOREACH blk = orig_blk_loop %] [% blk %] [% END %] ]







